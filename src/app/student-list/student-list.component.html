<mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <ng-container matColumnDef="fullname">
    <mat-header-cell *matHeaderCellDef>Full Name</mat-header-cell>
    <mat-cell *matCellDef="let student">{{ student | fullName }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="major">
    <mat-header-cell *matHeaderCellDef>major</mat-header-cell>
    <mat-cell *matCellDef="let student">
      <select id="major" class="form-control">
        <option value="
        {{ student.major }}">
          {{ student.major }}
        </option>
        <option *ngFor="let major of majors" [value]="major">
          {{ major }}
        </option>
      </select>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="average">
    <mat-header-cell *matHeaderCellDef>average</mat-header-cell>
    <mat-cell *matCellDef="let student">
      <input matInput #averageInput [(ngModel)]="student.average" />
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="minor">
    <mat-header-cell *matHeaderCellDef>minor</mat-header-cell>
    <mat-cell *matCellDef="let student">
      <input matInput #minorInput [(ngModel)]="student.minor" />
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
    <mat-cell *matCellDef="let student">
      <button
        mat-icon-button
        (click)="
          editStudent(student, student.average, student.major, student.minor)
        "
      >
        <mat-icon>update</mat-icon>
      </button>
      <button mat-icon-button (click)="deleteStudent(student.id)">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</mat-table>
